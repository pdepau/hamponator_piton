<?xml version="1.0"?>

<!--This Behavior Tree replans the global path periodically at 1 Hz and it also hasrecovery actions. -->

-<root main_tree_to_execute="MainTree">


-<BehaviorTree ID="MainTree">


-<RecoveryNode name="NavigateRecovery" number_of_retries="6">


-<PipelineSequence name="NavigateWithReplanning">


-<RateController hz="1.0">


-<RecoveryNode name="ComputePathToPose" number_of_retries="1">

<ComputePathToPose planner_id="GridBased" path="{path}" goal="{goal}"/>

<ClearEntireCostmap name="ClearGlobalCostmap-Context" service_name="global_costmap/clear_entirely_global_costmap"/>

</RecoveryNode>

</RateController>


-<RecoveryNode name="FollowPath" number_of_retries="1">

<FollowPath path="{path}" controller_id="FollowPath"/>

<ClearEntireCostmap name="ClearLocalCostmap-Context" service_name="local_costmap/clear_entirely_local_costmap"/>

</RecoveryNode>

</PipelineSequence>


-<ReactiveFallback name="RecoveryFallback">

<GoalUpdated/>


-<SequenceStar name="RecoveryActions">

<ClearEntireCostmap name="ClearLocalCostmap-Subtree" service_name="local_costmap/clear_entirely_local_costmap"/>

<ClearEntireCostmap name="ClearGlobalCostmap-Subtree" service_name="global_costmap/clear_entirely_global_costmap"/>

<Spin spin_dist="1.57"/>

<Wait wait_duration="5"/>

</SequenceStar>

</ReactiveFallback>

</RecoveryNode>

</BehaviorTree>

</root>